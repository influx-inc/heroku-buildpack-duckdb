#!/usr/bin/env bash
# Set compiler search paths so the Ruby buildpack's bundle install can find
# duckdb.h and libduckdb.so when compiling the duckdb gem's native extension.
#
# C_INCLUDE_PATH and LIBRARY_PATH are used by gcc/cc to locate headers and
# libraries. mkmf's find_header/find_library invoke the compiler, so these
# paths are picked up automatically â€” no BUNDLE_BUILD__DUCKDB needed.

DUCKDB_DIR="$BUILD_DIR/vendor/duckdb"

export C_INCLUDE_PATH="${DUCKDB_DIR}/include${C_INCLUDE_PATH:+:$C_INCLUDE_PATH}"
export LIBRARY_PATH="${DUCKDB_DIR}/lib${LIBRARY_PATH:+:$LIBRARY_PATH}"
export LD_LIBRARY_PATH="${DUCKDB_DIR}/lib${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}"
